---
phase: 10-analytics
plan: 07
type: execute
wave: 4
depends_on: ["10-04", "10-06"]
files_modified:
  - src/pages/SceneEditorPage.jsx
autonomous: true

must_haves:
  truths:
    - "Scene editor page displays inline analytics metrics"
    - "Inline metrics show view duration, completion rate, total views, last viewed"
    - "Link to full analytics page is present"
  artifacts:
    - path: "src/pages/SceneEditorPage.jsx"
      provides: "Scene editor with embedded analytics"
      contains: "ContentInlineMetrics"
  key_links:
    - from: "SceneEditorPage"
      to: "ContentInlineMetrics"
      via: "component import"
      pattern: "ContentInlineMetrics.*scene"
---

<objective>
Integrate ContentInlineMetrics component into the Scene editor page to show analytics inline.

Purpose: Fulfill the CONTEXT.md requirement "inline on content detail pages" for scene content.
Output: SceneEditorPage.jsx displays inline analytics summary with link to full analytics.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/10-analytics/10-CONTEXT.md
@.planning/phases/10-analytics/10-04-SUMMARY.md

@src/components/analytics/ContentInlineMetrics.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add inline metrics to SceneEditorPage</name>
  <files>src/pages/SceneEditorPage.jsx</files>
  <action>
First, examine SceneEditorPage.jsx to understand its structure and find appropriate placement for analytics.

Then add ContentInlineMetrics integration:

1. Add import at top of file:
```javascript
import { ContentInlineMetrics } from '../components/analytics';
```

2. Find appropriate location in the page layout (typically in sidebar or below main content). Look for existing sections like "Scene Info", "Settings", or similar.

3. Add analytics section with the inline metrics component:
```jsx
{/* Analytics Summary */}
{sceneId && (
  <div className="mt-6">
    <ContentInlineMetrics
      contentId={sceneId}
      contentType="scene"
      dateRange="7d"
    />
  </div>
)}
```

Placement considerations:
- If page has a sidebar with scene info/settings, add below that section
- If page is full-width editor, add in a collapsible panel or header area
- Ensure it only renders when sceneId exists (not for new scenes)

Per CONTEXT.md: "Both inline on content detail pages AND dedicated analytics page"
  </action>
  <verify>Check component imported: `grep 'ContentInlineMetrics' src/pages/SceneEditorPage.jsx`</verify>
  <done>SceneEditorPage shows inline analytics metrics for existing scenes</done>
</task>

<task type="auto">
  <name>Task 2: Verify lint and build</name>
  <files>src/pages/SceneEditorPage.jsx</files>
  <action>
Run linter to ensure no errors introduced:

```bash
npm run lint -- src/pages/SceneEditorPage.jsx
```

If any unused import warnings appear (e.g., the existing page has unused variables), only fix issues related to the new analytics integration.

Verify the import path is correct for your component structure.
  </action>
  <verify>Run: `npm run lint -- src/pages/SceneEditorPage.jsx 2>&1 | head -20`</verify>
  <done>SceneEditorPage passes lint with new analytics integration</done>
</task>

</tasks>

<verification>
- [ ] ContentInlineMetrics imported in SceneEditorPage.jsx
- [ ] Component rendered with contentId={sceneId} contentType="scene"
- [ ] Only renders for existing scenes (sceneId exists)
- [ ] No lint errors in the file
- [ ] Link to full analytics navigates to /analytics/content/scene/:id
</verification>

<success_criteria>
1. Scene editor page shows inline analytics summary
2. Metrics display: view duration, completion rate, total views, last viewed
3. "View full analytics" link works
4. Analytics don't break page for new scenes (conditional render)
</success_criteria>

<output>
After completion, create `.planning/phases/10-analytics/10-07-SUMMARY.md`
</output>
