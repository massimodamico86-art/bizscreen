---
phase: 17-templates-core
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/templates/TemplateSidebar.jsx
  - src/components/templates/FeaturedTemplatesRow.jsx
  - src/components/templates/TemplateGrid.jsx
  - src/components/templates/index.js
autonomous: true

must_haves:
  truths:
    - "Category sidebar component renders list of categories with All Templates option"
    - "Featured row component displays larger template cards"
    - "Grid component shows templates in 4-column layout with hover overlays"
    - "Quick Apply button appears on template card hover"
  artifacts:
    - path: "src/components/templates/TemplateSidebar.jsx"
      provides: "Category navigation and orientation filter"
      exports: ["TemplateSidebar"]
    - path: "src/components/templates/FeaturedTemplatesRow.jsx"
      provides: "Featured templates display row"
      exports: ["FeaturedTemplatesRow"]
    - path: "src/components/templates/TemplateGrid.jsx"
      provides: "Template grid with hover overlays"
      exports: ["TemplateGrid", "TemplateCard"]
    - path: "src/components/templates/index.js"
      provides: "Barrel exports for all template components"
      contains: "TemplateSidebar"
  key_links:
    - from: "src/components/templates/TemplateSidebar.jsx"
      to: "URL params"
      via: "onFilterChange callback prop"
      pattern: "onFilterChange.*category|orientation"
    - from: "src/components/templates/TemplateGrid.jsx"
      to: "Template card interaction"
      via: "onClick and onQuickApply props"
      pattern: "onQuickApply.*template"
---

<objective>
Create foundational marketplace components: category sidebar, featured templates row, and template grid with hover overlays.

Purpose: Build reusable components per CONTEXT decisions (persistent sidebar, 4-column grid, hover Quick Apply) that the marketplace page will compose in Plan 17-02.

Output: Three new components in src/components/templates/ ready for integration.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/17-templates-core/17-CONTEXT.md
@.planning/phases/17-templates-core/17-RESEARCH.md
@src/components/templates/index.js
@src/design-system/motion.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create TemplateSidebar component</name>
  <files>src/components/templates/TemplateSidebar.jsx</files>
  <action>
Create TemplateSidebar.jsx with persistent left sidebar pattern per CONTEXT:
- Props: categories (array), selectedCategory (string|null), selectedOrientation (string|null), onFilterChange (function)
- Render "All Templates" button at top (selected when no category)
- Map over categories array to render category buttons
- Each category button: full-width, text-left, highlight when selected (bg-blue-50 text-blue-700)
- Below categories: "Orientation" section header (text-xs uppercase)
- Two checkboxes: Landscape and Portrait
- Orientation can be null (neither checked), 'landscape', or 'portrait' (not both)
- Call onFilterChange({ category: id }) when category clicked
- Call onFilterChange({ orientation: value }) when checkbox toggled
- Use sticky positioning (sticky top-4) for scroll behavior
- Use Tailwind: w-64 flex-shrink-0, space-y-6 for sections
  </action>
  <verify>Component renders categories and orientation filter, fires onFilterChange on interaction</verify>
  <done>TemplateSidebar displays category list with "All Templates" and orientation checkboxes</done>
</task>

<task type="auto">
  <name>Task 2: Create FeaturedTemplatesRow and TemplateGrid components</name>
  <files>src/components/templates/FeaturedTemplatesRow.jsx, src/components/templates/TemplateGrid.jsx</files>
  <action>
Create FeaturedTemplatesRow.jsx:
- Props: templates (array), onTemplateClick (function), onQuickApply (function), applyingId (string|null)
- Render section header "Featured Templates" (text-lg font-semibold)
- Render horizontal row of larger cards (aspect-[16/9] not aspect-video for more emphasis)
- Use grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 for featured (fewer, larger)
- Each card uses TemplateCard component from TemplateGrid

Create TemplateGrid.jsx with TemplateCard inline component:
- TemplateGrid props: templates (array), onTemplateClick (function), onQuickApply (function), applyingId (string|null)
- Render 4-column responsive grid: grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4
- Each item is TemplateCard component

TemplateCard (export separately):
- Props: template, onClick, onQuickApply, isApplying
- Large thumbnail (aspect-video) with object-cover
- Placeholder icon when no thumbnail_url
- Hover overlay (group-hover pattern): bg-black/60, opacity transition
- Overlay content: template name (text-white font-medium), "Quick Apply" button (white bg, text-gray-900)
- Quick Apply button: stopPropagation on click, call onQuickApply(template)
- Loading state on Quick Apply when isApplying: show spinner, disable button
- Card click (not Quick Apply) calls onClick(template) for preview
- No visible title when not hovering (per CONTEXT: title appears on hover only)
  </action>
  <verify>FeaturedTemplatesRow renders larger cards; TemplateGrid renders 4-column grid; hover shows title and Quick Apply</verify>
  <done>Grid displays templates with hover overlay showing title and Quick Apply button</done>
</task>

<task type="auto">
  <name>Task 3: Update template components barrel exports</name>
  <files>src/components/templates/index.js</files>
  <action>
Update index.js to add new component exports:
- Keep existing exports (TemplatePreviewPopover, TemplateLivePreview, TemplateCustomizeModal, SaveAsTemplateModal)
- Add: export { TemplateSidebar } from './TemplateSidebar';
- Add: export { FeaturedTemplatesRow } from './FeaturedTemplatesRow';
- Add: export { TemplateGrid, TemplateCard } from './TemplateGrid';
- Organize exports alphabetically or by feature grouping with comments
  </action>
  <verify>Import { TemplateSidebar, FeaturedTemplatesRow, TemplateGrid } from '../components/templates' works</verify>
  <done>All new components exported from templates index barrel</done>
</task>

</tasks>

<verification>
- All three component files exist and export default/named properly
- TemplateSidebar renders categories and orientation filter
- FeaturedTemplatesRow renders larger cards in 3-column grid
- TemplateGrid renders 4-column grid with hover overlays
- TemplateCard shows Quick Apply button on hover
- No TypeScript errors, components use standard React patterns
</verification>

<success_criteria>
1. TemplateSidebar component renders category list with selection state
2. FeaturedTemplatesRow displays templates in larger cards
3. TemplateGrid displays templates in 4-column responsive grid
4. Hover overlay appears on template cards with title + Quick Apply
5. All components exported from index.js barrel
</success_criteria>

<output>
After completion, create `.planning/phases/17-templates-core/17-01-SUMMARY.md`
</output>
